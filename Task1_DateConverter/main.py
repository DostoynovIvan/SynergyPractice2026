import datetime

# ----------------------------------------------
# 1. Запрос данных у пользователя
# ----------------------------------------------
def get_birth_date():
    """Запрашивает день, месяц, год и возвращает объект date."""
    print("Введите дату вашего рождения:")
    day = int(input("День (1-31): "))
    month = int(input("Месяц (1-12): "))
    year = int(input("Год (например 2000): "))
    return datetime.date(year, month, day)


# ----------------------------------------------
# 2. Определение дня недели
# ----------------------------------------------
def get_weekday(date_obj):
    """Возвращает название дня недели для переданной даты."""
    # Именительный падеж (кто? что?)
    days_nom = ["понедельник", "вторник", "среда", "четверг", "пятница", "суббота", "воскресенье"]
    # Родительный падеж (кого? чего?) — нужен после предлога "в"
    days_gen = ["понедельник", "вторник", "среду", "четверг", "пятницу", "субботу", "воскресенье"]
    # weekday(): 0 - понедельник, 6 - воскресенье
    idx = date_obj.weekday()
    return days_gen[idx]  # возвращаем уже в нужном падеже



# ----------------------------------------------
# 3. Проверка високосности года
# ----------------------------------------------
def is_leap_year(year):
    """Возвращает True, если год високосный, иначе False."""
    return (year % 4 == 0 and year % 100 != 0) or (year % 400 == 0)


# ----------------------------------------------
# 4. Вычисление возраста и склонение слова "год"
# ----------------------------------------------
def calculate_age(birth_date):
    """Возвращает количество полных лет на текущую дату."""
    today = datetime.date.today()
    age = today.year - birth_date.year
    if (today.month, today.day) < (birth_date.month, birth_date.day):
        age -= 1
    return age


def years_word(age):
    """
    Возвращает правильное склонение слова "год" для числа age.
    """
    age_last_two = age % 100
    age_last_one = age % 10

    if 11 <= age_last_two <= 19:
        return "лет"
    elif age_last_one == 1:
        return "год"
    elif 2 <= age_last_one <= 4:
        return "года"
    else:
        return "лет"

# ----------------------------------------------
# 5. Вывод даты звёздочками (7-сегментный стиль)
# ----------------------------------------------
# Шаблоны цифр от 0 до 9. Каждая цифра — список строк (5 строк).
DIGITS = {
    '0': [
        " *** ",
        "*   *",
        "*   *",
        "*   *",
        " *** "
    ],
    '1': [
        "  *  ",
        " **  ",
        "  *  ",
        "  *  ",
        "*****"
    ],
    '2': [
        " *** ",
        "*   *",
        "   * ",
        "  *  ",
        "*****"
    ],
    '3': [
        " *** ",
        "*   *",
        "   **",
        "*   *",
        " *** "
    ],
    '4': [
        "*   *",
        "*   *",
        " ****",
        "    *",
        "    *"
    ],
    '5': [
        "*****",
        "*    ",
        "**** ",
        "    *",
        "**** "
    ],
    '6': [
        " *** ",
        "*    ",
        "**** ",
        "*   *",
        " *** "
    ],
    '7': [
        "*****",
        "    *",
        "   * ",
        "  *  ",
        "  *  "
    ],
    '8': [
        " *** ",
        "*   *",
        " *** ",
        "*   *",
        " *** "
    ],
    '9': [
        " *** ",
        "*   *",
        " ****",
        "    *",
        " *** "
    ],
    ' ': [
        "     ",
        "     ",
        "     ",
        "     ",
        "     "
    ]
}

def print_date_in_7seg(date_str):
    """
    Принимает строку формата 'дд мм гггг' и выводит её
    большими цифрами, составленными из звёздочек.
    """
    # Список для хранения 5 строк результата (по высоте цифры)
    lines = [""] * 5

    for ch in date_str:
        # Получаем шаблон цифры или пробела (если символа нет в словаре)
        pattern = DIGITS.get(ch, DIGITS[' '])
        # Добавляем каждую строку шаблона к соответствующей строке результата
        for i in range(5):
            lines[i] += pattern[i] + "  "  # два пробела между цифрами

    # Выводим все строки
    for line in lines:
        print(line)


# ----------------------------------------------
# 6. Основная программа
# ----------------------------------------------
def main():
    # 1. Получаем дату рождения
    birth_date = get_birth_date()

    # 2. День недели
    weekday = get_weekday(birth_date)
    print(f"\nВы родились в {weekday}.")

    # 3. Высокосность
    leap = is_leap_year(birth_date.year)
    if leap:
        print(f"Год {birth_date.year} был високосным.")
    else:
        print(f"Год {birth_date.year} не был високосным.")

    # 4. Возраст
    age = calculate_age(birth_date)
    print(f"Вам {age} полных лет.")

    # 5. Вывод даты рождения звёздочками
    # Формируем строку вида "дд мм гггг"
    date_display = birth_date.strftime("%d %m %Y")
    print("\nВаша дата рождения в стиле электронного табло:\n")
    print_date_in_7seg(date_display)


if __name__ == "__main__":
    main()
